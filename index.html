<!DOCTYPE html>
<html>
<head>
    <title>Building Shapes on Google Maps</title>
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCobCO1jQNA8cIv-IwQU9uzR9qoQaqvFiY&libraries=geometry"></script>
    <script>
        function initMap() {
            var map = new google.maps.Map(document.getElementById('map'), {
                zoom: 10,
                center: {lat: -34.397, lng: 150.644} // Change to your desired center location
            });

            var buildings = [
                {
                    code: "B001",
                    name: "Building 1",
                    stage: "completed",
                    coordinates: [
                        {lat: -34.397, lng: 150.644},
                        {lat: -34.398, lng: 150.645},
                        {lat: -34.399, lng: 150.646},
                        {lat: -34.400, lng: 150.647}
                    ]
                },
                {
                    code: "B002",
                    name: "Building 2",
                    stage: "in_progress",
                    coordinates: [
                        {lat: -34.397, lng: 150.654},
                        {lat: -34.398, lng: 150.655},
                        {lat: -34.399, lng: 150.656},
                        {lat: -34.400, lng: 150.657}
                    ]
                }
                // Add more buildings here
            ];

            buildings.forEach(function(building) {
                var color;
                switch(building.stage) {
                    case 'completed':
                        color = 'green';
                        break;
                    case 'in_progress':
                        color = 'yellow';
                        break;
                    case 'planned':
                        color = 'red';
                        break;
                }

                var buildingShape = new google.maps.Polygon({
                    paths: building.coordinates,
                    strokeColor: color,
                    strokeOpacity: 0.8,
                    strokeWeight: 2,
                    fillColor: color,
                    fillOpacity: 0.35
                });

                buildingShape.setMap(map);

                var infowindow = new google.maps.InfoWindow({
                    content: `Building ID: ${building.code}<br>Name: ${building.name}`
                });

                buildingShape.addListener('click', function(event) {
                    infowindow.setPosition(event.latLng);
                    infowindow.open(map);
                });
            });
        }
    </script>
</head>
<body onload="initMap()">
    <div id="map" style="height: 500px; width: 100%;"></div>
</body>
</html>
